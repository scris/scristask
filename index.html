<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>
			Scris Task
		</title>
		<script src="js/jquery-3.3.1.min.js">
		</script>
		<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
		<script src="js/airtable.browser.js">
		</script>
		<meta name="viewport" content="minimal-ui,width=device-width"/>	
 		<link rel="apple-touch-icon" href="task.png">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="white">
		<link rel="stylesheet" href="css/reset.min.css">
		<link rel="stylesheet prefetch" href="css/bootstrap.min.css">
		<link rel="stylesheet prefetch" href="css/animate.min.css">
		<link rel="stylesheet" href="css/quentin.css">
		<style>
			@font-face{
				font-family: 'vffree72';
				src: url('fonts/vffree72.svg'),
					 url('fonts/vffree72.woff');
			}

			body {
				background: #fff;
				font: 14px 'vffree72', sans-serif;
			}
		</style>
	</head>
	<body class="body">
		<div class="container">
			<div class="today">
			</div>
	
			<div class="row" id="taskmain">
				<div class="col-md-4 col-md-offset-4 col-xs-6 col-xs-offset-3">
					<div class="add-control">
						<div class="form-group has-feedback">
							<input type="text" class="form-control" placeholder="✍️ Add item..." />
							<i class="fa fa-plus form-control-feedback add-btn" title="Add item">
							</i>
						</div>
					</div>
					<p class="err text-danger text-center hidden">
						<i class="fa fa-warning">
						</i>
						Oops! Please enter name item.
					</p>
					<p class="no-items text-muted text-center hidden">
						<i class="fa fa-ban">
						</i>
					</p>
					<ul class="todo-list">
					</ul>
				</div>
			</div>
							
			<div class="container" id="blankp"></div>
			
			<div class="row" id="ptimer">
   
				<div class="col-md-4 col-md-offset-4 col-xs-6 col-xs-offset-3 pclock">
						<div id="pomotoro add-control">
							<span id="pminute">52</span>
							<span>:</span>
							<span id="psecond">00</span>
						</div>
						<br>
					<div id="psetting add-control">
						<div class="form-group has-feedback">
							<input type="text" placeholder="💪 Working Time/min" id="ptime" class="form-control"><br>
							<input type="button" id="pstart" class="form-control sbtn" value="Start Countdown"><br>
							<input type="button" id="preset" class="form-control sbtn" value="Reset Time">
						</div>
					</div>
				</div>
			</div>
				
			<div class="container" id="blankb"></div>
			
			<div class="row" id="btimer">
				<div class="col-md-4 col-md-offset-4 col-xs-6 col-xs-offset-3 clock">
					<h4>
						<div class="setters add-control">
							<div class="setter form-group has-feedback">
								<div class="labely">
									holder
								</div>
								<br><br><br>
								<div class="indicator form-group has-feedback">
									0
								</div>
								<input type="range" class="slider" max="100" min="1" value="0">
							</div>
						</div>
					</h4>

					<div class="timer add-control">
						<h4><canvas class="pie" width="300" height="300"></canvas></h4>
						<h4><a><b><div class="time">Ready</div></b></a></h4>
						<h4><div class="state"></div></h4>
					</div>
					<div class="add-control"><h4> - Click To Start/Pause - <br><br><br> - Double Click To Reset - </h4></div>
				</div>
			</div>
				
			<div class="row" id="settings">
				<div class="col-md-4 col-md-offset-4 col-xs-6 col-xs-offset-3">
					<h4>These things could be found on <a href="howsettings.html"><b>this page</b></a>.</h4>
					<div class="add-control">
						<div class="form-group has-feedback">
							<input type="text" class="form-control" id="in1" placeholder="🤫 Airtable API Key"/>
						</div>
					</div>
					<div class="add-control">
						<div class="form-group has-feedback">
							<input type="text" class="form-control" id="in2" placeholder="🕵 Airtable Base"/>
						</div>
					</div>
					<div class="add-control">
						<div class="form-group has-feedback">
							<input type="button" id="settingsbtn" value="Click to Update" class="form-control sbtn">
						</div>
					</div>
					<h4>				
						Your api key is only on your computer, <br><br><br>and your tasks are only on Airtable's server.<br><br><br><br>
					</h4>
				</div>
			</div>
		</div>
			
		<div class="footer">
			<h4>
				Copyright &copy; 2015-2018 Scris Game Studio.<br><br><br>
				Some CSS is from <a href="http://quentincolus.com/about.html">Quentin</a>.<br><br><br>
				Every task here will soon be vanished tomorrow, however you can edit the time <a href="how.html">here</a>.<br><br><br><br>
				<a id="settingstoggle">Airtable Sync Settings</a> | <a id="ptimertoggle">Project Timer</a> | <a id="btimertoggle">Work &amp; Break Timer</a>
				<br><br><br>
			</h4>
		</div>
		
	
		<audio src="ding.mp3" id="finishsound">
The audio element is not currently supported by your browser, that only means you won’t get a notice when your time is running out.
</audio>

	
		<script>
			//controller
			$(document).ready(function(){
				$("#settings").hide();
				$("#taskmain").show();
				$("#btimer").hide();
				$("#ptimer").hide();
				$("#blankb").hide();
				$("#blankp").hide();
			});
			$("#settingstoggle").click(function(){
				$("#settings").show();
				$("#taskmain").hide();
				$("#btimer").hide();
				$("#ptimer").hide();
				$("#blankb").hide();
				$("#blankp").hide();
			});
			$("#btimertoggle").click(function(){
				$("#taskmain").show();
				$("#btimer").toggle();
				$("#settings").hide();
				$("#blankb").toggle();
			});
			$("#ptimertoggle").click(function(){
				$("#taskmain").show();
				$("#ptimer").toggle();
				$("#settings").hide();
				$("#blankp").toggle();
			});
			
			
			//localstorage
			if(!window.localStorage){
				alert("LocalStorage is currently unsupported, please update your browser.");
			}else{
				var storage=window.localStorage;
				if(storage.getItem("scristaskapi") == null){
					alert("Seems that you haven't set the api key. Click ok, and set it now.");
					setTimeout(function(){$("#settings").show();$("#taskmain").hide();},500);
				}
 			}
			$("#settingsbtn").click(function(){
				var txtChange = $("#in1").val();  		 
				storage.setItem("scristaskapi",txtChange);
				console.log("in1");
				var txtChange = $("#in2").val();  		 
				storage.setItem("scristaskbase",txtChange);
				console.log("in2");
				document.location.reload();
			});
		</script>
		<script src="js/airtable-taskmain.js"></script>
		<script src="js/ptimer.js"></script>
		<script src="js/btimer.js"></script>
	</body>

</html>
